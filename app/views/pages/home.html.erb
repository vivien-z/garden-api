<%= content_for(:navbar_home, "navbar-home") %>
<%= content_for(:navbar_icon_home, "navbar-icon-home") %>

<%= render 'shared/banner' %>
<div class="container home py-5 d-flex flex-column justify-content-center">
  <div class="my-3">
    <h2 class="py-3 text-center"><strong>About Garden API</strong></h2>
    <p>Garden Plan API is based on simple REST principles. The endpoints return plant related data in JSON format.</p>
    <p>To access data through <strong>API</strong>, please follow the instruction below.</p>
    <p>
      <strong>Onsite garden planning</strong> is also available.
      <span class="ml-3">
        <%= link_to plants_path, class: "button-b" do %>
          Plan garden onsite
        <% end %>
      </span>
    </p>
  </div>


  <div class="container py-5">
    <div class="row d-flex flex-column align-items-center justify-content-center border">
      <h2 class="my-3"><strong>All Plants</strong></h2>
      <div class="scrolling-container ">
        <i class="arrow left fas fa-chevron-left"></i>
        <div class="scrolling-wrapper py-3 border">
          <% @plants.each_with_index do |plant, index| %>
            <% if index < 6 %>
              <%= link_to plant_path(plant), class: "card-main" do %>
                <% if plant.photo.attached? %>
                  <div class="card-m-img"
                       style="background-image: url(<%= cl_image_path plant.photo.key, height:160, width: 220, crop: :fill %>)">
                  </div>
                <% else %>
                  <div class="card-m-img"
                       style="background-image: url(<%= cl_image_path "utamb4q9bjfe5st9zumg0wxlxo2r.jpg", height:160, width: 220, crop: :fill %>)">
                  </div>
                <% end %>
                <div class="card-m-info">
                  <div class="card-m-text"><%= plant.name.capitalize %></div>
                </div>
              <% end %>
            <% end %>
          <% end %>
        </div>
        <i class="arrow right fas fa-chevron-right"></i>
      </div>
    </div>

  </div>



  <div class="pt-5">
    <h2 class="pt-3 text-center"><strong>API Access Instruction</strong></h2>
    <div class="my-3">
      <h4 class="py-3">Authentication</h4>
      User can find the unique 30-digit authentication token on <strong>My garden</strong> page from the dropdown menu.
    </div>
    <div class="my-3">
      <h4 class="py-3">Available API Endpoints:</h4>
      <p>List all plants: <span class="text-code">/api/v1/plants</span></p>
      <p>List one specific plant: <span class="text-code">/api/v1/plants/[:id]</span></p>
      <p><strong>METHOD  ACTION</strong></p><hr>
      <table class="py-3">
        <tr>
          <td><strong class="mr-3">GET</strong></td><td>Retrieves resources</td>
        </tr>
        <tr>
          <td><strong class="mr-3">POST</strong></td> <td>Creates resources (authentication needed)</td>
        </tr>
        <tr>
          <td><strong class="mr-3">PATCH</strong></td><td>Edit and update resources (authentication needed)</td>
        </tr>
        <tr>
          <td><strong class="mr-3">DELETE</strong></td> <td>Deletes resources (authentication needed)</td>
        </tr>
      </table>
      <hr>
      <%= image_tag "api-img.png", style: "width:100%; max-width: 620px" %>
    </div>
  </div>
</div>

